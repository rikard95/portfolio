<app-klocka></app-klocka>

<div class="timer-alarm-container welcome-container">
  <h1>Timer & Alarm</h1>

  <!-- TIMER -->
  <div class="timer-section">
    <h2>Timer</h2>
    <div class="time-display">{{ displayTime }}</div>
    <div class="timer-controls">
      <input type="number" placeholder="Timmar" min="0" (input)="onHoursChange($event)" />
      <input type="number" placeholder="Minuter" min="0" (input)="onMinutesChange($event)" />
      <input type="number" placeholder="Sekunder" min="0" max="59" (input)="onSecondsChange($event)" />
      <button type="button" (click)="startTimer()">Start</button>
      <button type="button" (click)="pauseTimer()">Pausa</button>
      <button type="button" (click)="resetTimer()">Reset</button>
    </div>
  </div>

  <!-- ALARM -->
  <div class="alarm-section">
    <h2>Alarm</h2>

    <div class="alarm-picker">
      <select [(ngModel)]="selectedHour">
        <option *ngFor="let h of hours" [value]="h">{{ h.toString().padStart(2, '0') }}</option>
      </select>
      :
      <select [(ngModel)]="selectedMinute">
        <option *ngFor="let m of minutes" [value]="m">{{ m.toString().padStart(2, '0') }}</option>
      </select>

      <button type="button" (click)="addAlarmFromDropdown()">Sätt Alarm</button>
    </div>

    <div *ngFor="let alarm of alarms" class="alarm-item">
      <span [class.active-alarm]="alarm.active" [class.inactive-alarm]="!alarm.active">
       {{ alarm.time }} ({{ alarm.active ? 'På' : 'Av' }})
      </span>
      <button type="button" (click)="toggleAlarm(alarm)">
        {{ alarm.active ? 'Stoppa' : 'Starta' }}
      </button>
      <button type="button" (click)="removeAlarm(alarm)">Ta bort</button>
    </div>
  </div>
</div>

<!-- Alarm Popup -->
<div *ngIf="alarmRinging" class="alarm-overlay">
  <div class="alarm-popup">
    {{ ringingMessage }}
    <button type="button" (click)="stopSound()">Stäng av larm</button>
  </div>
</div>

<app-projekt></app-projekt>
